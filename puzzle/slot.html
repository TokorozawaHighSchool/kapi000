  let gogoChance = false;
  let gogoBlinkTimer = null;
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>„Ç¢„Ç§„É†„Ç∏„É£„Ç∞„É©„ÉºÈ¢®„Çπ„É≠„ÉÉ„Éà</title>
  <style>
    body { background: #222; color: #fff; text-align: center; font-family: 'Arial Black', Arial, sans-serif; }
    #slot {
      margin: 40px auto 10px auto;
      width: 340px;
      height: 120px;
      background: linear-gradient(90deg,#222 0%,#444 100%);
      border-radius: 16px;
      box-shadow: 0 0 24px #000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3em;
      letter-spacing: 24px;
      border: 4px solid #e6b800;
      position: relative;
    }
    #gogoLamp {
      position: absolute;
      left: 10px; top: 10px;
      width: 80px; height: 40px;
      background: #333;
      border-radius: 20px;
      box-shadow: 0 0 16px #f0f, 0 0 4px #fff inset;
      color: #fff;
      font-size: 1.2em;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      opacity: 0.3;
      transition: opacity 0.3s;
      z-index: 2;
    }
    #gogoLamp.on {
      opacity: 1;
      background: #f0f;
      color: #fff200;
      box-shadow: 0 0 32px #f0f, 0 0 8px #fff inset;
      text-shadow: 0 0 8px #fff, 0 0 2px #f0f;
    }
    .reelBtn {
      margin: 0 8px;
      padding: 10px 18px;
      font-size: 1.1em;
      background: #e6b800;
      color: #222;
      border-radius: 8px;
      border: none;
      font-weight: bold;
      box-shadow: 0 2px 8px #000;
      cursor: pointer;
    }
    #spinBtn {
      margin: 20px; padding: 12px 32px; font-size: 1.2em;
      background: #e6b800; color: #222; border-radius: 12px; border: none; font-weight: bold; box-shadow: 0 2px 8px #000;
    }
    #result { font-size: 1.7em; margin-top: 20px; font-weight: bold; letter-spacing: 2px; }
  </style>
</head>
<body>
  <h1>„Çπ„É≠„ÉÉ„Éà„Ç≤„Éº„É†</h1>
  <div id="slot" style="position:relative;">
    <div id="gogoLamp">GOGO!</div>
  </div>
  <div style="margin:16px;">
    <button id="spinBtn">Âõû„Åô</button>
    <button id="stopBtn0" class="reelBtn">„Çπ„Éà„ÉÉ„Éó1</button>
    <button id="stopBtn1" class="reelBtn">„Çπ„Éà„ÉÉ„Éó2</button>
    <button id="stopBtn2" class="reelBtn">„Çπ„Éà„ÉÉ„Éó3</button>
  </div>
  <div id="result"></div>
  <script>
    const slot = document.getElementById('slot');
    const gogoLamp = document.getElementById('gogoLamp');
    const spinBtn = document.getElementById('spinBtn');
    const stopBtns = [
      document.getElementById('stopBtn0'),
      document.getElementById('stopBtn1'),
      document.getElementById('stopBtn2')
    ];
    const result = document.getElementById('result');
    // „Ç∏„É£„Ç∞„É©„ÉºÈ¢®ÁµµÊüÑ
  const icons = ['7', 'BAR', 'ÔøΩ', 'ÔøΩ', 'üîî', '„É™„Éó„É¨„Ç§'];
    let reels = [0, 0, 0];
    let spinning = [false, false, false];
    let timers = [null, null, null];

    function updateSlotDisplay() {
      slot.innerHTML = '';
      slot.appendChild(gogoLamp);
      for (let i = 0; i < 3; i++) {
        const span = document.createElement('span');
        span.textContent = icons[reels[i]];
  span.style.margin = '0 8px';
        span.style.padding = '8px 0';
        span.style.background = '#fff';
        span.style.borderRadius = '8px';
  span.style.width = '36px';
  span.style.display = 'inline-block';
  span.style.color = '#e6b800';
  span.style.fontWeight = 'bold';
  span.style.fontSize = '1.3em';
  span.style.boxShadow = '0 2px 8px #000 inset';
        slot.appendChild(span);
      }
    }

    function startSpin() {
      result.textContent = '';
      gogoLamp.classList.remove('on');
      gogoChance = Math.random() < 0.2; // 20%„Åß„Ç¥„Éº„Ç¥„Éº„ÉÅ„É£„É≥„Çπ
      if (gogoChance) {
        result.textContent = '„Ç¥„Éº„Ç¥„Éº„ÉÅ„É£„É≥„Çπ‰∏≠ÔºÅ';
        blinkGogoLamp();
      } else {
        stopBlinkGogoLamp();
      }
      for (let i = 0; i < 3; i++) {
        spinning[i] = true;
        stopBtns[i].disabled = false;
        spinReel(i);
      }
      spinBtn.disabled = true;
    }
    function blinkGogoLamp() {
      let on = false;
      if (gogoBlinkTimer) clearInterval(gogoBlinkTimer);
      gogoBlinkTimer = setInterval(() => {
        on = !on;
        gogoLamp.classList.toggle('on', on);
      }, 300);
    }
    function stopBlinkGogoLamp() {
      if (gogoBlinkTimer) clearInterval(gogoBlinkTimer);
      gogoLamp.classList.remove('on');
    }

    function spinReel(idx) {
      if (timers[idx]) clearInterval(timers[idx]);
      timers[idx] = setInterval(() => {
        // „Ç¥„Éº„Ç¥„Éº„ÉÅ„É£„É≥„Çπ‰∏≠„ÅØÂΩì„Åü„Çä„ÇÑ„Åô„ÅÑÈÖçÂàó
        if (gogoChance) {
          // 7ÊèÉ„ÅÑ„ÉªBARÊèÉ„ÅÑ„Éª„ÉÅ„Çß„É™„Éº„ÉªÂ∞èÂΩπÊèÉ„ÅÑ„ÅÆÁ¢∫Áéá„Çí‰∏ä„Åí„Çã
          const weighted = [0,0,0,1,1,2,2,2,3,3,4,5]; // 7,7,7,BAR,BAR,üçí,üçí,üçí,üçá,üçá,üîî,„É™„Éó„É¨„Ç§
          reels[idx] = weighted[Math.floor(Math.random() * weighted.length)];
        } else {
          reels[idx] = Math.floor(Math.random() * icons.length);
        }
        updateSlotDisplay();
      }, 80 + idx * 40);
    }

    function stopReel(idx) {
      if (!spinning[idx]) return;
      spinning[idx] = false;
      stopBtns[idx].disabled = true;
      if (timers[idx]) clearInterval(timers[idx]);
      // ÂÖ®„Å¶Ê≠¢„Åæ„Å£„Åü„ÇâÂà§ÂÆö
      if (spinning.every(s => !s)) {
        spinBtn.disabled = false;
        checkResult();
        gogoChance = false;
        stopBlinkGogoLamp();
      }
    }

    function checkResult() {
      const arr = reels.map(i => icons[i]);
      // „Ç∏„É£„Ç∞„É©„ÉºÈ¢®Âà§ÂÆö
      if (arr[0] === '7' && arr[1] === '7' && arr[2] === '7') {
        result.textContent = 'BIG BONUS!!';
        gogoLamp.classList.add('on');
      } else if (arr[0] === 'BAR' && arr[1] === 'BAR' && arr[2] === 'BAR') {
        result.textContent = 'REG BONUS!';
        gogoLamp.classList.add('on');
      } else if (arr.includes('üçí')) {
        result.textContent = '„ÉÅ„Çß„É™„Éº„Ç≤„ÉÉ„Éà!';
      } else if (arr[0] === arr[1] && arr[1] === arr[2]) {
        result.textContent = 'Â∞èÂΩπÊèÉ„ÅÑ!';
      } else {
        result.textContent = '„ÅØ„Åö„Çå...';
      }
    }

    spinBtn.onclick = startSpin;
    stopBtns.forEach((btn, idx) => {
      btn.onclick = () => stopReel(idx);
      btn.disabled = true;
    });

    // ÂàùÊúüË°®Á§∫
    reels = [0, 1, 2];
    updateSlotDisplay();
  </script>
</body>
</html>
